import { memo, useState } from "react";
import { useScrollPosition } from "../../hooks/useScrollPosition";
import Cart from "../Cart/Cart";
import PrimaryButton from "../PrimaryButton";
import SecondaryButton from "../SecondaryButton";
import NavLinks from "./NavLinks";
import NavMenuButton from "./NavMenuButton";

function Navbar() {
  const [isCartOpen, setIsCartOpen] = useState(false);
  const scrollPosition = useScrollPosition();

  return (
    <header
      className={`sticky top-0 z-20 w-full bg-beige-100 transition-all duration-300 ${
        scrollPosition > 0 ? "shadow-md" : "shadow-none"
      }`}
    >
      <nav className="mx-auto flex h-12 max-w-[1728px] items-center bg-beige-100 lg:h-16">
        <div className="global-select-none basis-1/3 lg:hidden">
          <NavMenuButton />
        </div>

        <div className="global-select-none mx-auto transition-opacity duration-200 hover:opacity-75 lg:ml-10 lg:basis-1/3">
          <a href="/">
            <svg
              className="max-h-8 w-full lg:max-h-9 lg:w-[104px]"
              aria-label="Bean Stree Coffee Shop"
              width="104"
              height="36"
              viewBox="0 0 116 41"
            >
              <path
                d="M13.464 19.608C13.464 22.416 11.184 24 6.86402 24H0.528015V23.808H1.84802V7.03201H0.528015V6.84001H6.14402C10.896 6.84001 12.816 8.66401 12.816 11.16C12.816 13.8 10.344 15 8.52002 15.288C11.208 15.624 13.464 16.8 13.464 19.608ZM5.92802 7.03201V15.24H6.57602C8.32802 15.24 9.04802 13.512 9.04802 11.16C9.04802 8.80801 8.52002 7.03201 6.14402 7.03201H5.92802ZM6.69602 15.432H5.92802V23.808H6.86402C8.66402 23.808 9.48002 22.128 9.48002 19.512C9.48002 17.232 8.25602 15.432 6.69602 15.432Z"
                fill="#332926"
              />
              <path
                d="M14.2048 18.216C14.2048 14.088 16.3888 12.12 20.0848 12.12C23.2528 12.12 24.5248 13.512 24.5248 15.384C24.5248 16.032 24.3568 16.824 24.0208 17.352H18.4288V18.216C18.4288 21.624 18.8608 23.64 21.4528 23.64C22.9648 23.64 24.0928 22.392 24.0928 21.12H24.3088C24.3088 22.512 23.1328 24.24 20.0128 24.24C16.3168 24.24 14.2048 22.512 14.2048 18.216ZM20.0848 12.312C18.6688 12.312 18.4528 14.16 18.4288 17.16H19.9408C21.1168 17.16 21.3808 16.344 21.3808 15.048C21.3808 13.56 21.1648 12.312 20.0848 12.312Z"
                fill="#332926"
              />
              <path
                d="M33.4361 24C32.3081 24 31.6601 23.736 31.4441 22.944C30.8681 23.712 29.9081 24.24 28.2281 24.24C26.4281 24.24 25.3001 23.52 25.3001 21.96C25.3001 19.776 27.0761 18.648 30.9641 18.168L31.3481 18.12V15.312C31.3481 13.464 31.3001 12.288 30.0521 12.288C28.5161 12.288 28.3721 13.92 28.3721 15.24C28.3721 16.08 28.5401 16.728 28.8041 17.304L28.7321 17.376C26.5721 17.328 25.5641 16.344 25.5641 14.904C25.5641 13.656 26.7881 12.12 30.0521 12.12C33.7481 12.12 35.3321 13.32 35.3321 16.512V23.112C35.3321 23.592 35.4761 23.808 35.8601 23.808H36.4841V24H33.4361ZM29.2601 21.48C29.2601 22.776 29.5961 23.472 30.2201 23.472C30.6761 23.472 31.0601 23.184 31.3481 22.68V18.336L31.0121 18.384C29.5961 18.624 29.2601 20.136 29.2601 21.48Z"
                fill="#332926"
              />
              <path
                d="M42.795 23.808V24H36.507V23.808H37.659V12.552H36.507V12.36H41.379L41.619 14.352C42.315 12.72 43.563 12.12 45.195 12.12C47.691 12.12 48.819 12.912 48.819 15.792V23.808H49.971V24H43.683V23.808H44.835V13.584C44.835 12.96 44.595 12.576 44.019 12.576C43.227 12.576 42.099 13.392 41.643 14.952V23.808H42.795Z"
                fill="#332926"
              />
              <path
                d="M61.1704 13.776C63.4504 15.648 64.6024 17.184 64.6024 19.536C64.6024 22.56 62.4904 24.24 59.2264 24.24C57.8824 24.24 56.7784 23.856 55.8904 23.856C55.6024 23.856 55.3144 23.88 55.0264 24H54.8584V19.728H55.0984C55.4104 22.128 57.2344 24.048 59.2024 24.048C60.8584 24.048 61.4584 22.92 61.4584 21.72C61.4584 19.872 60.5704 18.864 58.2904 16.992C56.0104 15.12 54.8584 13.584 54.8584 11.232C54.8584 8.28001 57.2344 6.60001 60.2584 6.60001C61.8664 6.60001 62.1064 6.98401 63.0424 6.98401C63.3304 6.98401 63.6184 6.96001 63.9064 6.84001H64.0744V10.92H63.8344C63.1384 8.04001 62.1304 6.81601 60.3784 6.81601C58.6984 6.81601 58.0024 8.01601 58.0024 9.28801C58.0024 11.136 58.8904 11.904 61.1704 13.776Z"
                fill="#332926"
              />
              <path
                d="M64.9386 12.552V12.36H65.1306C67.0266 12.36 68.6586 11.376 70.1226 9.45601H70.3146V12.36H72.6666V12.552H70.3146V21.336C70.3146 22.728 70.6746 23.616 71.8026 23.616C72.1866 23.616 72.5466 23.472 72.7146 23.136L72.8586 23.208C72.4506 23.976 71.2986 24.24 69.7386 24.24C67.7946 24.24 66.3306 23.688 66.3306 21.576V12.552H64.9386Z"
                fill="#332926"
              />
              <path
                d="M79.5441 23.808V24H73.0161V23.808H74.1681V12.552H73.0161V12.36H77.1681L77.8881 15.84H77.9601C77.9841 12.936 79.3281 12.096 80.7921 12.096C82.2081 12.096 82.8801 13.056 82.8801 13.944C82.8801 15.768 81.1761 16.776 79.4961 16.896L79.4241 16.848C79.6401 16.248 79.7601 15.336 79.7601 14.544C79.7601 13.752 79.4241 13.056 79.1601 12.936C78.9441 13.032 78.1521 13.704 78.1521 16.224V23.808H79.5441Z"
                fill="#332926"
              />
              <path
                d="M82.8954 18.216C82.8954 14.088 85.0795 12.12 88.7755 12.12C91.9435 12.12 93.2155 13.512 93.2155 15.384C93.2155 16.032 93.0474 16.824 92.7114 17.352H87.1195V18.216C87.1195 21.624 87.5514 23.64 90.1434 23.64C91.6554 23.64 92.7834 22.392 92.7834 21.12H92.9995C92.9995 22.512 91.8235 24.24 88.7035 24.24C85.0075 24.24 82.8954 22.512 82.8954 18.216ZM88.7755 12.312C87.3595 12.312 87.1435 14.16 87.1195 17.16H88.6314C89.8074 17.16 90.0714 16.344 90.0714 15.048C90.0714 13.56 89.8555 12.312 88.7755 12.312Z"
                fill="#332926"
              />
              <path
                d="M93.9908 18.216C93.9908 14.088 96.1748 12.12 99.8708 12.12C103.039 12.12 104.311 13.512 104.311 15.384C104.311 16.032 104.143 16.824 103.807 17.352H98.2148V18.216C98.2148 21.624 98.6468 23.64 101.239 23.64C102.751 23.64 103.879 22.392 103.879 21.12H104.095C104.095 22.512 102.919 24.24 99.7988 24.24C96.1028 24.24 93.9908 22.512 93.9908 18.216ZM99.8708 12.312C98.4548 12.312 98.2388 14.16 98.2148 17.16H99.7268C100.903 17.16 101.167 16.344 101.167 15.048C101.167 13.56 100.951 12.312 99.8708 12.312Z"
                fill="#332926"
              />
              <path
                d="M104.726 12.552V12.36H104.918C106.814 12.36 108.446 11.376 109.91 9.45601H110.102V12.36H112.454V12.552H110.102V21.336C110.102 22.728 110.462 23.616 111.59 23.616C111.974 23.616 112.334 23.472 112.502 23.136L112.646 23.208C112.238 23.976 111.086 24.24 109.526 24.24C107.582 24.24 106.118 23.688 106.118 21.576V12.552H104.726Z"
                fill="#332926"
              />
              <path
                d="M7.13025 32.1254C7.13025 31.4454 7.28692 30.8354 7.60025 30.2954C7.92025 29.7554 8.35025 29.3354 8.89025 29.0354C9.43692 28.7287 10.0336 28.5754 10.6802 28.5754C11.4202 28.5754 12.0769 28.7587 12.6502 29.1254C13.2302 29.4854 13.6502 29.9987 13.9102 30.6654H12.5402C12.3602 30.2987 12.1102 30.0254 11.7902 29.8454C11.4702 29.6654 11.1002 29.5754 10.6802 29.5754C10.2202 29.5754 9.81025 29.6787 9.45025 29.8854C9.09025 30.0921 8.80692 30.3887 8.60025 30.7754C8.40025 31.1621 8.30025 31.6121 8.30025 32.1254C8.30025 32.6387 8.40025 33.0887 8.60025 33.4754C8.80692 33.8621 9.09025 34.1621 9.45025 34.3754C9.81025 34.5821 10.2202 34.6854 10.6802 34.6854C11.1002 34.6854 11.4702 34.5954 11.7902 34.4154C12.1102 34.2354 12.3602 33.9621 12.5402 33.5954H13.9102C13.6502 34.2621 13.2302 34.7754 12.6502 35.1354C12.0769 35.4954 11.4202 35.6754 10.6802 35.6754C10.0269 35.6754 9.43025 35.5254 8.89025 35.2254C8.35025 34.9187 7.92025 34.4954 7.60025 33.9554C7.28692 33.4154 7.13025 32.8054 7.13025 32.1254Z"
                fill="#665754"
              />
              <path
                d="M21.7346 35.7054C21.2146 35.7054 20.7446 35.5887 20.3246 35.3554C19.9046 35.1154 19.5746 34.7821 19.3346 34.3554C19.0946 33.9221 18.9746 33.4221 18.9746 32.8554C18.9746 32.2954 19.098 31.7987 19.3446 31.3654C19.5913 30.9321 19.928 30.5987 20.3546 30.3654C20.7813 30.1321 21.258 30.0154 21.7846 30.0154C22.3113 30.0154 22.788 30.1321 23.2146 30.3654C23.6413 30.5987 23.978 30.9321 24.2246 31.3654C24.4713 31.7987 24.5946 32.2954 24.5946 32.8554C24.5946 33.4154 24.468 33.9121 24.2146 34.3454C23.9613 34.7787 23.6146 35.1154 23.1746 35.3554C22.7413 35.5887 22.2613 35.7054 21.7346 35.7054ZM21.7346 34.7154C22.028 34.7154 22.3013 34.6454 22.5546 34.5054C22.8146 34.3654 23.0246 34.1554 23.1846 33.8754C23.3446 33.5954 23.4246 33.2554 23.4246 32.8554C23.4246 32.4554 23.348 32.1187 23.1946 31.8454C23.0413 31.5654 22.838 31.3554 22.5846 31.2154C22.3313 31.0754 22.058 31.0054 21.7646 31.0054C21.4713 31.0054 21.198 31.0754 20.9446 31.2154C20.698 31.3554 20.5013 31.5654 20.3546 31.8454C20.208 32.1187 20.1346 32.4554 20.1346 32.8554C20.1346 33.4487 20.2846 33.9087 20.5846 34.2354C20.8913 34.5554 21.2746 34.7154 21.7346 34.7154Z"
                fill="#665754"
              />
              <path
                d="M32.1316 31.0354H31.1116V35.6154H29.9616V31.0354H29.3116V30.1054H29.9616V29.7154C29.9616 29.0821 30.1282 28.6221 30.4616 28.3354C30.8016 28.0421 31.3316 27.8954 32.0516 27.8954V28.8454C31.7049 28.8454 31.4616 28.9121 31.3216 29.0454C31.1816 29.1721 31.1116 29.3954 31.1116 29.7154V30.1054H32.1316V31.0354Z"
                fill="#665754"
              />
              <path
                d="M39.5519 31.0354H38.5319V35.6154H37.3819V31.0354H36.7319V30.1054H37.3819V29.7154C37.3819 29.0821 37.5486 28.6221 37.8819 28.3354C38.2219 28.0421 38.7519 27.8954 39.4719 27.8954V28.8454C39.1252 28.8454 38.8819 28.9121 38.7419 29.0454C38.6019 29.1721 38.5319 29.3954 38.5319 29.7154V30.1054H39.5519V31.0354Z"
                fill="#665754"
              />
              <path
                d="M49.7122 32.7254C49.7122 32.9321 49.6989 33.1187 49.6722 33.2854H45.4622C45.4955 33.7254 45.6589 34.0787 45.9522 34.3454C46.2455 34.6121 46.6055 34.7454 47.0322 34.7454C47.6455 34.7454 48.0789 34.4887 48.3322 33.9754H49.5622C49.3955 34.4821 49.0922 34.8987 48.6522 35.2254C48.2189 35.5454 47.6789 35.7054 47.0322 35.7054C46.5055 35.7054 46.0322 35.5887 45.6122 35.3554C45.1989 35.1154 44.8722 34.7821 44.6322 34.3554C44.3989 33.9221 44.2822 33.4221 44.2822 32.8554C44.2822 32.2887 44.3955 31.7921 44.6222 31.3654C44.8555 30.9321 45.1789 30.5987 45.5922 30.3654C46.0122 30.1321 46.4922 30.0154 47.0322 30.0154C47.5522 30.0154 48.0155 30.1287 48.4222 30.3554C48.8289 30.5821 49.1455 30.9021 49.3722 31.3154C49.5989 31.7221 49.7122 32.1921 49.7122 32.7254ZM48.5222 32.3654C48.5155 31.9454 48.3655 31.6087 48.0722 31.3554C47.7789 31.1021 47.4155 30.9754 46.9822 30.9754C46.5889 30.9754 46.2522 31.1021 45.9722 31.3554C45.6922 31.6021 45.5255 31.9387 45.4722 32.3654H48.5222Z"
                fill="#665754"
              />
              <path
                d="M59.9841 32.7254C59.9841 32.9321 59.9707 33.1187 59.9441 33.2854H55.7341C55.7674 33.7254 55.9307 34.0787 56.2241 34.3454C56.5174 34.6121 56.8774 34.7454 57.3041 34.7454C57.9174 34.7454 58.3507 34.4887 58.6041 33.9754H59.8341C59.6674 34.4821 59.3641 34.8987 58.9241 35.2254C58.4907 35.5454 57.9507 35.7054 57.3041 35.7054C56.7774 35.7054 56.3041 35.5887 55.8841 35.3554C55.4707 35.1154 55.1441 34.7821 54.9041 34.3554C54.6707 33.9221 54.5541 33.4221 54.5541 32.8554C54.5541 32.2887 54.6674 31.7921 54.8941 31.3654C55.1274 30.9321 55.4507 30.5987 55.8641 30.3654C56.2841 30.1321 56.7641 30.0154 57.3041 30.0154C57.8241 30.0154 58.2874 30.1287 58.6941 30.3554C59.1007 30.5821 59.4174 30.9021 59.6441 31.3154C59.8707 31.7221 59.9841 32.1921 59.9841 32.7254ZM58.7941 32.3654C58.7874 31.9454 58.6374 31.6087 58.3441 31.3554C58.0507 31.1021 57.6874 30.9754 57.2541 30.9754C56.8607 30.9754 56.5241 31.1021 56.2441 31.3554C55.9641 31.6021 55.7974 31.9387 55.7441 32.3654H58.7941Z"
                fill="#665754"
              />
              <path
                d="M74.1936 35.6854C73.7269 35.6854 73.3069 35.6054 72.9336 35.4454C72.5603 35.2787 72.2669 35.0454 72.0536 34.7454C71.8403 34.4454 71.7336 34.0954 71.7336 33.6954H72.9536C72.9803 33.9954 73.0969 34.2421 73.3036 34.4354C73.5169 34.6287 73.8136 34.7254 74.1936 34.7254C74.5869 34.7254 74.8936 34.6321 75.1136 34.4454C75.3336 34.2521 75.4436 34.0054 75.4436 33.7054C75.4436 33.4721 75.3736 33.2821 75.2336 33.1354C75.1003 32.9887 74.9303 32.8754 74.7236 32.7954C74.5236 32.7154 74.2436 32.6287 73.8836 32.5354C73.4303 32.4154 73.0603 32.2954 72.7736 32.1754C72.4936 32.0487 72.2536 31.8554 72.0536 31.5954C71.8536 31.3354 71.7536 30.9887 71.7536 30.5554C71.7536 30.1554 71.8536 29.8054 72.0536 29.5054C72.2536 29.2054 72.5336 28.9754 72.8936 28.8154C73.2536 28.6554 73.6703 28.5754 74.1436 28.5754C74.8169 28.5754 75.3669 28.7454 75.7936 29.0854C76.2269 29.4187 76.4669 29.8787 76.5136 30.4654H75.2536C75.2336 30.2121 75.1136 29.9954 74.8936 29.8154C74.6736 29.6354 74.3836 29.5454 74.0236 29.5454C73.6969 29.5454 73.4303 29.6287 73.2236 29.7954C73.0169 29.9621 72.9136 30.2021 72.9136 30.5154C72.9136 30.7287 72.9769 30.9054 73.1036 31.0454C73.2369 31.1787 73.4036 31.2854 73.6036 31.3654C73.8036 31.4454 74.0769 31.5321 74.4236 31.6254C74.8836 31.7521 75.2569 31.8787 75.5436 32.0054C75.8369 32.1321 76.0836 32.3287 76.2836 32.5954C76.4903 32.8554 76.5936 33.2054 76.5936 33.6454C76.5936 33.9987 76.4969 34.3321 76.3036 34.6454C76.1169 34.9587 75.8403 35.2121 75.4736 35.4054C75.1136 35.5921 74.6869 35.6854 74.1936 35.6854Z"
                fill="#665754"
              />
              <path
                d="M84.8888 30.0154C85.3088 30.0154 85.6821 30.1054 86.0088 30.2854C86.3421 30.4654 86.6021 30.7321 86.7888 31.0854C86.9821 31.4387 87.0788 31.8654 87.0788 32.3654V35.6154H85.9488V32.5354C85.9488 32.0421 85.8254 31.6654 85.5788 31.4054C85.3321 31.1387 84.9954 31.0054 84.5688 31.0054C84.1421 31.0054 83.8021 31.1387 83.5488 31.4054C83.3021 31.6654 83.1788 32.0421 83.1788 32.5354V35.6154H82.0388V28.2154H83.1788V30.7454C83.3721 30.5121 83.6154 30.3321 83.9088 30.2054C84.2088 30.0787 84.5354 30.0154 84.8888 30.0154Z"
                fill="#665754"
              />
              <path
                d="M95.0229 35.7054C94.5029 35.7054 94.0329 35.5887 93.6129 35.3554C93.1929 35.1154 92.8629 34.7821 92.6229 34.3554C92.3829 33.9221 92.2629 33.4221 92.2629 32.8554C92.2629 32.2954 92.3862 31.7987 92.6329 31.3654C92.8796 30.9321 93.2162 30.5987 93.6429 30.3654C94.0696 30.1321 94.5462 30.0154 95.0729 30.0154C95.5996 30.0154 96.0762 30.1321 96.5029 30.3654C96.9296 30.5987 97.2662 30.9321 97.5129 31.3654C97.7596 31.7987 97.8829 32.2954 97.8829 32.8554C97.8829 33.4154 97.7562 33.9121 97.5029 34.3454C97.2496 34.7787 96.9029 35.1154 96.4629 35.3554C96.0296 35.5887 95.5496 35.7054 95.0229 35.7054ZM95.0229 34.7154C95.3162 34.7154 95.5896 34.6454 95.8429 34.5054C96.1029 34.3654 96.3129 34.1554 96.4729 33.8754C96.6329 33.5954 96.7129 33.2554 96.7129 32.8554C96.7129 32.4554 96.6362 32.1187 96.4829 31.8454C96.3296 31.5654 96.1262 31.3554 95.8729 31.2154C95.6196 31.0754 95.3462 31.0054 95.0529 31.0054C94.7596 31.0054 94.4862 31.0754 94.2329 31.2154C93.9862 31.3554 93.7896 31.5654 93.6429 31.8454C93.4962 32.1187 93.4229 32.4554 93.4229 32.8554C93.4229 33.4487 93.5729 33.9087 93.8729 34.2354C94.1796 34.5554 94.5629 34.7154 95.0229 34.7154Z"
                fill="#665754"
              />
              <path
                d="M104.25 30.9154C104.443 30.6621 104.707 30.4487 105.04 30.2754C105.373 30.1021 105.75 30.0154 106.17 30.0154C106.65 30.0154 107.087 30.1354 107.48 30.3754C107.88 30.6087 108.193 30.9387 108.42 31.3654C108.647 31.7921 108.76 32.2821 108.76 32.8354C108.76 33.3887 108.647 33.8854 108.42 34.3254C108.193 34.7587 107.88 35.0987 107.48 35.3454C107.087 35.5854 106.65 35.7054 106.17 35.7054C105.75 35.7054 105.377 35.6221 105.05 35.4554C104.723 35.2821 104.457 35.0687 104.25 34.8154V38.2354H103.11V30.1054H104.25V30.9154ZM107.6 32.8354C107.6 32.4554 107.52 32.1287 107.36 31.8554C107.207 31.5754 107 31.3654 106.74 31.2254C106.487 31.0787 106.213 31.0054 105.92 31.0054C105.633 31.0054 105.36 31.0787 105.1 31.2254C104.847 31.3721 104.64 31.5854 104.48 31.8654C104.327 32.1454 104.25 32.4754 104.25 32.8554C104.25 33.2354 104.327 33.5687 104.48 33.8554C104.64 34.1354 104.847 34.3487 105.1 34.4954C105.36 34.6421 105.633 34.7154 105.92 34.7154C106.213 34.7154 106.487 34.6421 106.74 34.4954C107 34.3421 107.207 34.1221 107.36 33.8354C107.52 33.5487 107.6 33.2154 107.6 32.8354Z"
                fill="#665754"
              />
            </svg>
          </a>
        </div>

        <NavLinks />

        <div className="global-select-none basis-1/3">
          <div className="flex items-center justify-between text-brown-700 before:w-1/3 before:content-['']">
            <div className="hidden lg:flex lg:gap-x-5">
              <SecondaryButton path="/sign-in" name="Sign in" ariaLabel="Sign in" />
              <PrimaryButton path="/sign-up" name="Sign up" ariaLabel="Sign up" />
            </div>

            <a
              href="/sign-in"
              className="whitespace-nowrap text-sm font-medium transition-colors hover:text-brown-500 lg:hidden"
              aria-label="Sign in"
            >
              Sign in
            </a>
            <button
              className="group relative mx-4 flex h-12 w-12 items-center justify-center lg:mx-8"
              onClick={() => setIsCartOpen(true)}
            >
              <span className="absolute left-1/2 top-2.5 -translate-x-1/2 text-sm font-semibold transition-colors group-hover:text-brown-500">
                0
              </span>
              <svg
                width="32"
                height="32"
                viewBox="0 0 32 32"
                fill="none"
                className="mb-1"
              >
                <path
                  className="fill-brown-700 transition-colors group-hover:fill-brown-500"
                  d="M2 15.7022L6.19546 26.8901L6.43878 27.539H7.13179H7.41148H23.9136H24.1933H24.8863L25.1296 26.8901L29.3251 15.7022L27.4524 15L23.5003 25.539H7.82479L3.87266 15L2 15.7022Z"
                />
              </svg>
            </button>
          </div>
        </div>

        <Cart isCartOpen={isCartOpen} setIsCartOpen={setIsCartOpen} />
      </nav>
    </header>
  );
}

export default memo(Navbar);
